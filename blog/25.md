---
title: TuGraph Analyticsäº¤äº’å¼å›¾æŸ¥è¯¢ï¼šè®©å›¾æ‰€è§å³æ‰€å¾—
date: 2023-12-13
---

<font style="color:rgb(69, 69, 69);">ä½œè€…ï¼šå»–æ¢µæŠ’</font>

<font style="color:rgb(69, 69, 69);">TuGraph Analytics æä¾›äº† OLAP å›¾åˆ†æèƒ½åŠ›ï¼Œå®ç°å›¾ä¸Šçš„äº¤äº’å¼æŸ¥è¯¢ï¼Œç”¨æˆ·åœ¨æ„å›¾å¹¶å¯¼å…¥æ•°æ®ä¹‹åï¼Œå¯ä»¥é€šè¿‡è¾“å…¥ GQL è¯­å¥å¯¹å›¾æŸ¥è¯¢åˆ†æï¼Œå¹¶ä»¥å¯è§†åŒ–çš„æ–¹å¼ç›´è§‚åœ°å±•ç¤ºç‚¹è¾¹ç»“æœã€‚</font>

<!-- truncate -->

**<font style="color:rgb(69, 69, 69);">OLAP æ¶æ„</font>**

![](https://intranetproxy.alipay.com/skylark/lark/0/2025/png/96961/1755590314672-217ac41f-0cc4-4a84-be62-3cb7f7bd69f9.png)

<font style="color:rgb(69, 69, 69);">åœ¨ TuGraph Analytics OLAP æ¶æ„ä¸­ï¼Œä¸»è¦ä»¥ä¸‹ç»„ä»¶:</font>

1. **<font style="color:rgb(69, 69, 69);">Client</font>**<font style="color:rgb(69, 69, 69);">: ç”¨æˆ·é€šè¿‡ Client æäº¤æŸ¥è¯¢è¯­å¥, Client è´Ÿè´£å’Œ Coordinator äº¤äº’ï¼Œå‘é€æŸ¥è¯¢è¯·æ±‚ã€‚</font>
2. **<font style="color:rgb(69, 69, 69);">Coordinator</font>**<font style="color:rgb(69, 69, 69);">: æ¥æ”¶æ¥è‡ª Client æŸ¥è¯¢è¯·æ±‚ï¼Œå°†æŸ¥è¯¢ä¸­çš„ GQL è¯­å¥è¿›è¡Œè§£æã€ä¼˜åŒ–ï¼Œæ„å»ºæŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’ï¼ˆæ‰§è¡Œè®¡åˆ’çš„ç”Ÿæˆé€»è¾‘å¯å‚è€ƒ</font>[<font style="color:rgb(255, 81, 0);">ã€Šåˆ†å¸ƒå¼å›¾è®¡ç®—å¦‚ä½•å®ç°ï¼Ÿå¸¦ä½ ä¸€çª¥å›¾è®¡ç®—æ‰§è¡Œè®¡åˆ’ã€‹</font>](https://zhuanlan.zhihu.com/p/647441899)<font style="color:rgb(69, 69, 69);">ï¼‰ï¼Œå¹¶å°†ä»»åŠ¡è°ƒåº¦ç»™ Woker æ‰§è¡Œã€‚</font>
3. **<font style="color:rgb(69, 69, 69);">Worker</font>**<font style="color:rgb(69, 69, 69);">ï¼šå…·ä½“åˆ†å¸ƒå¼åœ°æ‰§è¡Œä»»åŠ¡çš„å•å…ƒï¼Œæ¥æ”¶åˆ° Coordinator å‘é€çš„ Pipelineï¼Œæ‰§è¡Œå…·ä½“çš„è®¡ç®—å’ŒæŸ¥è¯¢é€»è¾‘ã€‚</font>
4. **<font style="color:rgb(69, 69, 69);">Meta Service</font>**<font style="color:rgb(69, 69, 69);">: æœåŠ¡æ³¨å†Œç®¡ç†ï¼ŒCoordinator å¯åŠ¨åï¼Œä¼šå°†æœåŠ¡çš„åœ°å€å’Œç«¯å£å‘ MetaService è¿›è¡Œæ³¨å†Œï¼ŒClient æäº¤æŸ¥è¯¢æ—¶ä» MetaService è·å– Coordinator çš„æœåŠ¡åœ°å€ï¼Œè¿›è¡Œè¿æ¥ã€‚ç›®å‰æ”¯æŒ http å’Œ rpc ä¸¤ç§æ–¹å¼ã€‚</font>

<font style="color:rgb(69, 69, 69);">ç»„ä»¶é—´æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š</font>![](https://intranetproxy.alipay.com/skylark/lark/0/2025/png/96961/1755590315445-c918816a-31a2-4911-9fab-5b23318cb5cc.png)

**<font style="color:rgb(69, 69, 69);">æ“ä½œæŒ‡å—</font>**

## <font style="color:rgb(69, 69, 69);">1. å®šä¹‰å›¾æ¨¡å‹</font>

<font style="color:rgb(69, 69, 69);">ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œå›¾ä¸­æœ‰ 2 ç§ç‚¹ person å’Œ softwareï¼Œä»¥åŠ 2 ç§è¾¹ knows å’Œ createsã€‚</font>

![](https://intranetproxy.alipay.com/skylark/lark/0/2025/png/96961/1755590314484-02ee4e80-b7f1-462a-9609-adc7cea799cf.png)

<font style="color:rgb(69, 69, 69);">å›¾æ¨¡å‹å®šä¹‰å¯å‚è€ƒ</font>[<font style="color:rgb(255, 81, 0);">ã€ŠTuGraph Analytics å›¾å»ºæ¨¡ç ”å‘ï¼šä¸ºå›¾è®¡ç®—ä¸šåŠ¡æé€Ÿå¢æ•ˆã€‹</font>](https://zhuanlan.zhihu.com/p/663270153)<font style="color:rgb(69, 69, 69);">ï¼Œå›¾å®šä¹‰è¯­æ³•ä¸ºï¼š</font>

```plain
CREATE GRAPH dy_modern (
	Vertex person (
	  id bigint ID,
	  name varchar,
	  age int
	),
	Vertex software (
	  id bigint ID,
	  name varchar,
	  lang varchar
	),
	Edge knows (
	  srcId bigint SOURCE ID,
	  targetId bigint DESTINATION ID,
	  weight int
	),
	Edge creates (
	  srcId bigint SOURCE ID,
  	targetId bigint DESTINATION ID,
  	weight int
	)
) WITH (
	storeType='rocksdb',
	shardCount = 2
);
```

## <font style="color:rgb(69, 69, 69);">2. å‡†å¤‡å›¾æ•°æ®</font>

<font style="color:rgb(69, 69, 69);">åˆ›å»ºâ€œåŠ å·¥â€ç±»å‹å›¾ä»»åŠ¡ï¼Œå‘å¸ƒç”Ÿæˆå›¾ä½œä¸šã€‚</font>

```plain
USE GRAPH dy_modern;

INSERT INTO dy_modern.person(id, name, age)
SELECT 1, 'jim', 20
UNION ALL
SELECT 2, 'kate', 22
UNION ALL
SELECT 3, 'tom', 24;

INSERT INTO dy_modern.software(id, name, lang)
SELECT 4, 'software1', 'java'
UNION ALL
SELECT 5, 'software2', 'java';

INSERT INTO dy_modern.knows
SELECT 1,2,2
UNION ALL
SELECT 1,3,3
UNION ALL
SELECT 3,2,3;

INSERT INTO dy_modern.creates
SELECT 2,4,6
UNION ALL
SELECT 3,5,8
UNION ALL
SELECT 3,4,8;
```

**<font style="color:rgb(69, 69, 69);">å›¾ä½œä¸šéœ€è¦çš„ worker æ•°ä¸º 23</font>**<font style="color:rgb(69, 69, 69);">ï¼Œåœ¨ä½œä¸šç•Œé¢å°†å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œä¹‹åæäº¤ä½œä¸šè¿è¡Œã€‚</font>

![](https://intranetproxy.alipay.com/skylark/lark/0/2025/png/96961/1755590315011-1d8d3015-87fb-441f-b561-c1d181b6a7d7.png)

## <font style="color:rgb(69, 69, 69);">3. åˆ›å»ºæŸ¥è¯¢æœåŠ¡</font>

<font style="color:rgb(69, 69, 69);">åˆ›å»ºå›¾æŸ¥è¯¢æœåŠ¡, ä»»åŠ¡ç±»å‹é€‰æ‹©â€œå›¾æŸ¥è¯¢â€ï¼Œç›®æ ‡å›¾é€‰æ‹©åˆšæ‰åˆ›å»ºçš„å›¾ã€‚</font>

![](https://intranetproxy.alipay.com/skylark/lark/0/2025/png/96961/1755590314435-4a49ece4-df3f-4087-8159-ca06228a42ae.png)

<font style="color:rgb(69, 69, 69);">å‘å¸ƒä»»åŠ¡åï¼Œä½¿ç”¨é»˜è®¤å‚æ•°å³å¯ï¼Œæäº¤ä½œä¸šã€‚</font>

## <font style="color:rgb(69, 69, 69);">4. æ‰§è¡ŒæŸ¥è¯¢</font>

<font style="color:rgb(69, 69, 69);">å›¾æŸ¥è¯¢æœåŠ¡çš„ä½œä¸šå˜æˆ RUNNING çŠ¶æ€åï¼Œå¯åœ¨ä»»åŠ¡ç•Œé¢ç‚¹å‡»â€œæŸ¥è¯¢â€è¿›å…¥å›¾æŸ¥è¯¢ç•Œé¢</font>

![](https://intranetproxy.alipay.com/skylark/lark/0/2025/png/96961/1755590315411-f1d6bd46-dd30-4669-8fd4-369134e8f8ab.png)

<font style="color:rgb(69, 69, 69);">è¾“å…¥ç›¸åº”çš„ gql æŸ¥è¯¢è¯­å¥ï¼Œç‚¹å‡»â€œæ‰§è¡Œâ€ï¼Œå³å¯å¾—åˆ°æŸ¥è¯¢ç»“æœã€‚</font>

![](https://intranetproxy.alipay.com/skylark/lark/0/2025/png/96961/1755590315531-0a5f5365-c490-403e-9355-8cdd2487f8ac.png)

## <font style="color:rgb(69, 69, 69);">5. å›¾å¯è§†åŒ–</font>

<font style="color:rgb(69, 69, 69);">ç‚¹å‡»æŸä¸ªç‚¹ï¼Œå¯ä»¥æŸ¥çœ‹ç‚¹å…³è”çš„å…·ä½“ä¿¡æ¯å’Œå±æ€§ï¼Œä»¥åŠå…³è”çš„å…¶ä»–ç‚¹è¾¹ã€‚</font>

![](https://intranetproxy.alipay.com/skylark/lark/0/2025/png/96961/1755590316056-02b1be65-6fdc-4e0d-a05e-a3d0bc886c52.png)

<font style="color:rgb(69, 69, 69);">é™¤äº†å¯è§†åŒ–çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ json å½¢å¼çœ‹åˆ°è¿”å›çš„ç»“æœã€‚</font>

![](https://intranetproxy.alipay.com/skylark/lark/0/2025/png/96961/1755590316461-4f593cb8-f608-4d69-aa76-de08c087d4c2.png)

**<font style="color:rgb(69, 69, 69);">è‡³æ­¤ï¼Œæˆ‘ä»¬å°±æˆåŠŸä½¿ç”¨ TuGraph Analytics å®ç°äº†å›¾ä¸Šçš„äº¤äº’å¼æŸ¥è¯¢ï¼æ˜¯ä¸æ˜¯è¶…ç®€å•ï¼å¿«æ¥è¯•ä¸€è¯•å§ï¼</font>**

**<font style="color:rgb(69, 69, 69);">æ¬¢è¿å…³æ³¨æˆ‘ä»¬çš„ GitHub ä»“åº“ï¼š</font>**<font style="color:rgb(69, 69, 69);"> </font><font style="color:rgb(69, 69, 69);">ğŸ‘‰</font><font style="color:rgb(69, 69, 69);"> </font>[<font style="color:rgb(255, 81, 0);">https://github.com/TuGraph-family/tugraph-analytics</font>](https://github.com/TuGraph-family/tugraph-analytics)

---

<font style="color:rgb(69, 69, 69);">GeaFlow(å“ç‰Œå TuGraph-Analytics) å·²æ­£å¼å¼€æºï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨ï¼ï¼ï¼</font>

<font style="color:rgb(69, 69, 69);">æ¬¢è¿ç»™æˆ‘ä»¬ Star å“¦!</font>

<font style="color:rgb(69, 69, 69);">Welcome to give us a Star!</font>

<font style="color:rgb(69, 69, 69);">GitHub</font><font style="color:rgb(69, 69, 69);">ğŸ‘‰</font>[<font style="color:rgb(255, 81, 0);">https://github.com/TuGraph-family/tugraph-analytics</font>](https://github.com/TuGraph-family/tugraph-analytics)

**<font style="color:rgb(69, 69, 69);">å¾®ä¿¡ç¾¤</font>**

![](https://intranetproxy.alipay.com/skylark/lark/0/2025/png/96961/1755590316761-27cf4d87-fbf6-4e20-abbf-d497f571f007.png)

<font style="color:rgb(69, 69, 69);">è¯·ç‚¹å‡»é¡¹ç›®é“¾æ¥ä¸‹æ–¹å¾®ä¿¡äºŒç»´ç æ·»åŠ å¾®ä¿¡ç”¨æˆ·ç¾¤ï¼š</font>[<font style="color:rgb(255, 81, 0);">https://github.com/TuGraph-family/tugraph-analytics</font>](https://github.com/TuGraph-family/tugraph-analytics)
