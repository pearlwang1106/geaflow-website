<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-en-current docs-version-current docs-doc-page docs-doc-id-deploy/install_guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Kubernetes Cluster Deployment | GeaFlow</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kaiming-l.github.io/geaflow-website/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://kaiming-l.github.io/geaflow-website/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://kaiming-l.github.io/geaflow-website/docs/deploy/install_guide"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="zh_CN"><meta data-rh="true" name="docusaurus_locale" content="en-US"><meta data-rh="true" name="docsearch:language" content="en-US"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-en-current-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-en-current-current"><meta data-rh="true" property="og:title" content="Kubernetes Cluster Deployment | GeaFlow"><meta data-rh="true" name="description" content="Prepare K8S Environment"><meta data-rh="true" property="og:description" content="Prepare K8S Environment"><link data-rh="true" rel="icon" href="/geaflow-website/img/favicon.png"><link data-rh="true" rel="canonical" href="https://kaiming-l.github.io/geaflow-website/docs/deploy/install_guide"><link data-rh="true" rel="alternate" href="https://kaiming-l.github.io/geaflow-website/docs/deploy/install_guide" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://kaiming-l.github.io/geaflow-website/zh-CN/docs/deploy/install_guide" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://kaiming-l.github.io/geaflow-website/docs/deploy/install_guide" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HO4M21RAQI-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Kubernetes Cluster Deployment","item":"https://kaiming-l.github.io/geaflow-website/docs/deploy/install_guide"}]}</script><link rel="alternate" type="application/rss+xml" href="/geaflow-website/blog/rss.xml" title="GeaFlow RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/geaflow-website/blog/atom.xml" title="GeaFlow Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="GeaFlow" href="/geaflow-website/opensearch.xml">





<meta name="algolia-site-verification" content="4AB782AC2021573E">
<script src="https://tarptaeya.github.io/repo-card/repo-card.js"></script><link rel="stylesheet" href="/geaflow-website/assets/css/styles.aa1a495a.css">
<script src="/geaflow-website/assets/js/runtime~main.b89b6387.js" defer="defer"></script>
<script src="/geaflow-website/assets/js/main.eb63190f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/geaflow-website/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/geaflow-website/"><div class="navbar__logo"><img src="/geaflow-website/img/logo.png" alt="GeaFlow Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/geaflow-website/img/logo.png" alt="GeaFlow Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="ant-select ant-select-borderless versionSelect_qA4O css-l9pxc0 ant-select-single ant-select-show-arrow"><div class="ant-select-selector"><span class="ant-select-selection-wrap"><span class="ant-select-selection-search"><input type="search" autocomplete="off" class="ant-select-selection-search-input" role="combobox" aria-expanded="false" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" readonly="" unselectable="on" style="opacity:0" value=""></span><span class="ant-select-selection-item" title="0.0.2">0.0.2</span></span></div><span class="ant-select-arrow" style="user-select:none;-webkit-user-select:none" unselectable="on" aria-hidden="true"><span role="img" aria-label="down" class="anticon anticon-down ant-select-suffix"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></span></span></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link header-locale-dropdown"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/geaflow-website/docs/deploy/install_guide" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li><li><a href="/geaflow-website/zh-CN/docs/deploy/install_guide" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">简体中文</a></li></ul></div><a href="https://github.com/apache/geaflow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbarSearchContainer_dCNk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbarCenter_ZzI1"> <a aria-current="page" class="navbar__item navbar__link navbar__link--active" id="docs" href="/geaflow-website/docs/guide">Docs</a><a class="navbar__item navbar__link" id="community" href="/geaflow-website/community/how_to_contribute">Community</a><a class="navbar__item navbar__link" href="/geaflow-website/download">Download</a><a class="navbar__item navbar__link" href="/geaflow-website/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li><li><a href="https://www.apache.org/foundation/policies/conduct.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Code of Conduct</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/geaflow-website/docs/guide">Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/geaflow-website/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/geaflow-website/docs/quick_start/quick_start">Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/geaflow-website/docs/concepts/glossary">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/geaflow-website/docs/application-development/api/overview">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/geaflow-website/docs/deploy/install_guide">Deployment</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/geaflow-website/docs/deploy/install_guide">Kubernetes Cluster Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/geaflow-website/docs/deploy/quick_start_operator">Deploying Kubernetes Operator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/geaflow-website/docs/deploy/dashboard">GeaFlow Dashboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/geaflow-website/docs/deploy/collaborate_with_g6vp">🌈 G6VP Graph Visualization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/geaflow-website/docs/deploy/install_llm">LLM Local Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/geaflow-website/docs/deploy/install_minikube">Install Minikube</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/geaflow-website/docs/contribution">Contribution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/geaflow-website/docs/contacts">Contacts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/geaflow-website/docs/thanks">Thanks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/geaflow-website/docs/reference/vs_join">Reference</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/geaflow-website/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deployment</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Kubernetes Cluster Deployment</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Kubernetes Cluster Deployment</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-k8s-environment">Prepare K8S Environment<a href="#prepare-k8s-environment" class="hash-link" aria-label="Direct link to Prepare K8S Environment" title="Direct link to Prepare K8S Environment">​</a></h2>
<p>Here, we use minikube as an example to simulate a Kubernetes cluster on a single machine. If you already have a Kubernetes cluster set up, you may proceed directly to the next steps and skip this section. For instructions on installing minikube, refer to the <a href="/geaflow-website/docs/deploy/install_minikube">Installing Minikube</a> chapter.</p>
<p>Create a geaflow service account, otherwise the program has no permission to create new K8S
resources (only needed for the first time)</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create a geaflow service account</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create serviceaccount geaflow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create clusterrolebinding geaflow-role-binding --clusterrole=edit --serviceaccount=default:geaflow --namespace=default</span><br></span></code></pre></div></div>
<p>Finally, in order to allow the containers inside Docker to access the Minikube API, it is necessary to proxy Minikube to ${your_local_ip}:8000, so that other containers can directly access Minikube through this port.</p>
<p>Do not to close the terminal process that the proxy belongs to. For subsequent operations, please start a new terminal.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create a proxy for port 8000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl proxy --port=8000 --address=&#x27;${your_local_ip}&#x27; --accept-hosts=&#x27;^.*&#x27; &amp;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-images">Build Images<a href="#build-images" class="hash-link" aria-label="Direct link to Build Images" title="Direct link to Build Images">​</a></h2>
<p>Download GeaFlow source code, build GeaFlow engine image and GeaFlow Console image.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/TuGraph-family/tugraph-analytics.git geaflow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd geaflow/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bash ./build.sh --all</span><br></span></code></pre></div></div>
<p>After the image compilation is successful, use the following command to view the images:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># check geaflow image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eval $(minikube docker-env)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># check geaflow-console image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eval $(minikube docker-env --unset)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker images</span><br></span></code></pre></div></div>
<p>The default GeaFlow platform image name is &quot;geaflow-console:0.1&quot;, and the engine image name is &quot;geaflow:0.1&quot;. After starting the platform image &quot;geaflow-console:0.1&quot;, you can access the GeaFlow console through a web browser to create and submit GeaFlow jobs. The GeaFlow jobs are run based on the built engine image &quot;geaflow:0.1&quot; by default.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="start-containers">Start Containers<a href="#start-containers" class="hash-link" aria-label="Direct link to Start Containers" title="Direct link to Start Containers">​</a></h2>
<p>Start the GeaFlow Console platform service locally, suitable for Minikube environment. (Replace ${your.host.name} with the public IP address of your machine.)</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --name geaflow-console -p 8888:8888 -p 3306:3306 -p 6379:6379 -p 8086:8086 -e geaflow.host=${your.host.name} geaflow-console:0.1</span><br></span></code></pre></div></div>
<p>Start the external GeaFlow Console platform service, suitable for a real K8S cluster environment. (Replace ${your.host.name} with the internal IP address of your machine, for example 172.xx.xxx.xx; replace ${your.public.ip} with the external public IP address, so that GEAFlow Console can be accessed from the outside.)</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --name geaflow-console -p 8888:8888 -p 3306:3306 -p 6379:6379 -p 8086:8086 -e geaflow.host=${your.host.name} geaflow-console:0.1</span><br></span></code></pre></div></div>
<p>The container starts in &quot;local&quot; mode by default, and local MySQL, Redis, and InfluxDB are launched by default.</p>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># /opt/geaflow/config/application.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">geaflow.deploy.mode=local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">geaflow.host=127.0.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">geaflow.gateway.port=8888</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">geaflow.gateway.url=http://${geaflow.host}:${geaflow.gateway.port}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Datasource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.datasource.url=jdbc:mysql://${geaflow.host}:3306/geaflow?useUnicode=true&amp;characterEncoding=utf8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.datasource.username=geaflow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring.datasource.password=geaflow</span><br></span></code></pre></div></div>
<p>Enter the container and wait for the GeaFlow web process to start. After that, access <a href="localhost:8888" target="_blank" rel="noopener noreferrer">localhost:8888</a> to enter the GeaFlow Console platform page.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; docker exec -it geaflow-console tailf /tmp/logs/geaflow/app-default.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># wait the logs below and open url http://localhost:8888</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GeaflowApplication:61   - Started GeaflowApplication in 11.437 seconds (JVM running for 13.475)</span><br></span></code></pre></div></div>
<p>If you want to start the container in &quot;cluster&quot; mode, you need to adjust the datasource configuration to point to an external data source and set a unified service URL for external access. The container supports environment variable injection of datasource configuration and service URL. For example:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --name geaflow-console -p 8888:8888 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e geaflow.deploy.mode=&quot;cluster&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e geaflow.host=${your.host.name} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e geaflow.gateway.port=8888 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e geaflow.gateway.url=${your.geaflow.gateway.url} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e spring.datasource.url=${your.datasource.url} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e spring.datasource.username=${your.datasource.username} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e spring.datasource.password=${your.datasource.password} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">geaflow-console:1.0</span><br></span></code></pre></div></div>
<p>If you want to modify the port number of the front-end Node process or Java process, you only need to set the environment variables &quot;geaflow.gateway.port&quot; and remap the port number. for example:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --name geaflow-console -p 9999:9999 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-e geaflow.gateway.port=9999 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">geaflow-console:1.0</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="register-and-login">Register and Login<a href="#register-and-login" class="hash-link" aria-label="Direct link to Register and Login" title="Direct link to Register and Login">​</a></h2>
<p>The first registered user will be set as the administrator by default. Log in as an administrator and use the &quot;One-click Installation&quot; function to start system initialization.</p>
<p><img decoding="async" loading="lazy" alt="install_welcome" src="/geaflow-website/assets/images/install_welcome_en-3385caa7132f1029c911f950b98c74f3.png" width="1115" height="644" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-initialization">System Initialization<a href="#system-initialization" class="hash-link" aria-label="Direct link to System Initialization" title="Direct link to System Initialization">​</a></h2>
<p>When the administrator logs into the GeaFlow system for the first time, the one-click installation process will be triggered to prepare the system for initialization.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-configuration">Cluster Configuration<a href="#cluster-configuration" class="hash-link" aria-label="Direct link to Cluster Configuration" title="Direct link to Cluster Configuration">​</a></h3>
<p>Configure the runtime cluster for GeaFlow jobs, and it is recommended to use Kubernetes. In local mode, the default proxy address is ${your.host.name}:8000. Please make sure that minikube has been started locally and the proxy address has been set. If you set the address of the K8S cluster, please ensure that the connectivity of the address is normal.</p>
<p><img decoding="async" loading="lazy" alt="install_cluster_config" src="/geaflow-website/assets/images/install_cluster_config_en-8dfab707fbe656953f31f2daa9830349.png" width="3444" height="1632" class="img_ev3q"></p>
<p>Add the following configuration for K8S cluster:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Set storage limit to 10Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;kubernetes.resource.storage.limit.size&quot;:&quot;10Gi&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Configure service API to the K8S service address, usually on port 6443</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;kubernetes.master.url&quot;:&quot;https://${your.host.name}:6443&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Find the configuration file &#x27;/etc/kubernetes/admin.conf&#x27; in the K8S cluster, and configure the following three fields from top to bottom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;kubernetes.ca.data&quot;:&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;kubernetes.cert.data&quot;:&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;kubernetes.cert.key&quot;:&quot;&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-configuration">Runtime Configuration<a href="#runtime-configuration" class="hash-link" aria-label="Direct link to Runtime Configuration" title="Direct link to Runtime Configuration">​</a></h3>
<p>Configure the storage of runtime metadata for GeaFlow jobs. Runtime metadata includes information such as the job&#x27;s Pipeline, Cycle, checkpoint, and exceptions. It is recommended to use MySQL.</p>
<p>Configure the storage of HA metadata for GeaFlow job runtime. HA metadata includes information such as Master, Driver, Container, and other main components. It is recommended to use Redis.</p>
<p>Configure the storage of metric data for GeaFlow job runtime, which is used for job metric monitoring. It is recommended to use InfluxDB.</p>
<p><img decoding="async" loading="lazy" alt="undefined" src="/geaflow-website/assets/images/install_meta_config_en-5a2b6b95d68d06f3c64ec685c3f8db63.png" width="3398" height="1782" class="img_ev3q"></p>
<p>In local mode, when the docker container starts, MySQL, Redis, and InfluxDB services will be automatically pulled up by default.</p>
<p>Add the following configuration for K8S cluster:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configure influshdb.token as a random value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;influxdb.token&quot;:&quot;f5fb50a361f762a0af045c47d98f66e401f1b632b3133b3dc2680110262d1135&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-storage-configuration">Data Storage Configuration<a href="#data-storage-configuration" class="hash-link" aria-label="Direct link to Data Storage Configuration" title="Direct link to Data Storage Configuration">​</a></h3>
<p>Configure the persistent storage of GeaFlow job, graph, and table data, and it is recommended to use HDFS. In local mode, the default is the disk inside the container.</p>
<p><img decoding="async" loading="lazy" alt="install_storage_config" src="/geaflow-website/assets/images/install_storage_config_en-db99b27c254aea0473cbd974476b5873.png" width="2548" height="506" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="file-storage-configuration">File Storage Configuration<a href="#file-storage-configuration" class="hash-link" aria-label="Direct link to File Storage Configuration" title="Direct link to File Storage Configuration">​</a></h3>
<p>Configure the persistent storage of GeaFlow engine JAR and user JAR files, and it is recommended to use HDFS. In local mode, the default is the disk inside the container.</p>
<p><img decoding="async" loading="lazy" alt="install_jar_config" src="/geaflow-website/assets/images/install_jar_config_en-e00a4d43ceac4750347c5fd9fdf9cdab.png" width="2543" height="500" class="img_ev3q"></p>
<p>After the installation is successful, <strong>the administrator will automatically switch to the default instance under the default tenant</strong>, and you can directly create and publish graph computation tasks at this time.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="work-mode">Work Mode<a href="#work-mode" class="hash-link" aria-label="Direct link to Work Mode" title="Direct link to Work Mode">​</a></h2>
<p>GeaFlow console supports tenant isolation and supports system mode perspective and tenant mode perspective to use product features.</p>
<p><strong>Note:</strong>
The user icon menu in the upper right corner of the page provides a quick mode switching entry.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-mode">System Mode<a href="#system-mode" class="hash-link" aria-label="Direct link to System Mode" title="Direct link to System Mode">​</a></h3>
<p>When the user logs in as an administrator, they will enter the system mode. At this time, you can perform system operations such as one-click installation and system management.</p>
<p><img decoding="async" loading="lazy" alt="install_system_mode" src="/geaflow-website/assets/images/install_system_mode_en-1a9a46801ff0042f049dda082a1535f8.jpg" width="3436" height="672" class="img_ev3q"></p>
<p>In system mode, the administrator can manage information such as clusters, GeaFlow engine versions, files, users, tenants, etc.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tenant-mode">Tenant Mode<a href="#tenant-mode" class="hash-link" aria-label="Direct link to Tenant Mode" title="Direct link to Tenant Mode">​</a></h3>
<p>After normal user login, they will enter tenant mode. At this time, they can perform graph computing development and maintenance operations.</p>
<p><img decoding="async" loading="lazy" alt="install_tenant_mode" src="/geaflow-website/assets/images/install_tenant_mode_en-a43ca30cd8889be058776ac548ccee14.jpg" width="2555" height="429" class="img_ev3q"></p>
<p>In tenant mode, users can create development resources such as instances, graphs, tables, and graph computing tasks. They can also publish graph computing tasks, submit graph computing jobs, and perform other related operations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="task-management">Task Management<a href="#task-management" class="hash-link" aria-label="Direct link to Task Management" title="Direct link to Task Management">​</a></h2>
<p>Add a graph computing task and describe the business logic of graph computing using SQL+GQL.</p>
<p><img decoding="async" loading="lazy" alt="install_task_manager" src="/geaflow-website/assets/images/install_task_manager_en-e7963e705777628b4975b680fe6c218d.png" width="2541" height="369" class="img_ev3q"></p>
<p>After creating a task, click on &quot;publish&quot; to enter the job operation and maintenance interface.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="task-maintenance">Task Maintenance<a href="#task-maintenance" class="hash-link" aria-label="Direct link to Task Maintenance" title="Direct link to Task Maintenance">​</a></h2>
<p>Before submitting a job, you can also adjust the default task parameters and cluster parameters to facilitate adjustments to job behavior.</p>
<p><img decoding="async" loading="lazy" alt="install_job_op" src="/geaflow-website/assets/images/install_job_op_en-52cc7c0550056ec26f33898364fa731e.png" width="2517" height="803" class="img_ev3q"></p>
<p>Access other tabs on the job details page to view information about job runtime, metrics, containers, exceptions, logs, and more.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/geaflow-website/docs/application-development/chat_guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Text2GQL Syntax Manual</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/geaflow-website/docs/deploy/quick_start_operator"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploying Kubernetes Operator</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prepare-k8s-environment" class="table-of-contents__link toc-highlight">Prepare K8S Environment</a></li><li><a href="#build-images" class="table-of-contents__link toc-highlight">Build Images</a></li><li><a href="#start-containers" class="table-of-contents__link toc-highlight">Start Containers</a></li><li><a href="#register-and-login" class="table-of-contents__link toc-highlight">Register and Login</a></li><li><a href="#system-initialization" class="table-of-contents__link toc-highlight">System Initialization</a><ul><li><a href="#cluster-configuration" class="table-of-contents__link toc-highlight">Cluster Configuration</a></li><li><a href="#runtime-configuration" class="table-of-contents__link toc-highlight">Runtime Configuration</a></li><li><a href="#data-storage-configuration" class="table-of-contents__link toc-highlight">Data Storage Configuration</a></li><li><a href="#file-storage-configuration" class="table-of-contents__link toc-highlight">File Storage Configuration</a></li></ul></li><li><a href="#work-mode" class="table-of-contents__link toc-highlight">Work Mode</a><ul><li><a href="#system-mode" class="table-of-contents__link toc-highlight">System Mode</a></li><li><a href="#tenant-mode" class="table-of-contents__link toc-highlight">Tenant Mode</a></li></ul></li><li><a href="#task-management" class="table-of-contents__link toc-highlight">Task Management</a></li><li><a href="#task-maintenance" class="table-of-contents__link toc-highlight">Task Maintenance</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/geaflow-website/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/geaflow-website/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>